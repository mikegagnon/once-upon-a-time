<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="style.css">
    <title>Once upon a time...</title>
  </head>
  <body>
    <div id="main">

    </div>
    <p style="float: right; color: gray;">Use arrow keys, or click around.</p>
  </body>
  <script type="text/javascript" src="jquery-3.7.1.min.js"></script>
  <script type="text/javascript" src="ztnd_graph.js"></script>
  <script type="text/javascript" src="ztnd_choices.js"></script>
  <script type="text/javascript" src="once2.js"></script>
  <script type="text/javascript">

    function main() {
      const segGen = new SegmentGenerator(ZTND_GRAPH, ZTND_CHOICES);
      segGen.generate();

      const viz = new Viz(segGen.nodes, segGen.edges);

      // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key
      window.addEventListener(
          "keydown",
          (event) => {
            if (event.defaultPrevented) {
              return; // Do nothing if the event was already processed
            }
        
            switch (event.key) {
              case "ArrowDown":
                // Do something for "down arrow" key press.
                viz.arrowDown();
                break;
              case "ArrowUp":
                // Do something for "up arrow" key press.
                //grapher.arrowUp();
                break;
              case "ArrowLeft":
                // Do something for "left arrow" key press.
                viz.arrowLeft();
                break;
              case "ArrowRight":
                // Do something for "right arrow" key press.
                viz.arrowRight();
                break;
              case "Enter":
                // Do something for "enter" or "return" key press.
                break;
              case " ":
                // Do something for "space" key press.
                break;
              case "Escape":
                // Do something for "esc" key press.
                break;
              default:
                return; // Quit when this doesn't handle the key event.
            }
        
            // Cancel the default action to avoid it being handled twice
            event.preventDefault();
          },
          true,
        );

      return viz;
    }

    const VIZ = main();

    
  </script>
</html>